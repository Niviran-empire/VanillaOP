# #Check if it is possible to build orbital stations on this planet
# #this: planet
# #root: country
# can_planet_support_orbital_station = {
# 	custom_tooltip = {
# 		fail_text = "ORBITAL_STATION_ALREADY_EXISTS"
# 		has_any_megastructure = no
# 		NOT = { has_planet_flag = has_megastructure }
# 	}
# }

# This = pop
pop_group_generates_crime = {
	always = no
}

# this = system
# root = country
system_blocks_sensors = {
	has_star_flag = can_enable_can_be_system_blocks_sensors
}

# This = pop
can_vote_in_democratic_election = {
	has_pop_group_flag = can_enable_pop_election_vote
}

# Root = Pop
# From = Country
# This = Pop
# NOTE: species_has_happiness is also checked for this
pop_group_has_random_ethics = {
	if = {
		limit = { has_global_flag = VOP_flg_glbl_enbale_ethic }
		exists = from NOT = { has_citizenship_type = { country = from type = citizenship_organic_trophy } }
	}
	else = { always = no }
}

#Root = country
#This = pop
can_generate_military_leader_from_pop_group = {
	has_pop_group_flag = can_enable_can_generate_military_leader_from_pop
}

#Checks whether any leaders (scientists etc) can be formed from this pop
#Root = country
#This = pop
can_generate_leader_from_pop_group = {
	has_pop_group_flag = can_enable_can_generate_leader_from_pop
}

# Root/this = country
# From = planet
# Checks if the country is allowed to build a mining station around this planet/star
can_build_mining_station_around = {
	exists = root
	ROOT = { is_ai = no }
}

# Root/this = country
# From = planet
# Checks if the country is allowed to build a research station around this planet/star
can_build_research_station_around = {
	exists = root
	ROOT = { is_ai = no }
}

# This = Planet
is_new_colony = {
	has_planet_flag = can_enable_is_new_colony
}

can_add_advanced_traits = {
	OR = {
		has_tradition = tr_genetics_enhanced_expression
		has_active_tradition = tr_purity_exemplary_genetics
		has_active_tradition = tr_cloning_somatic_synthesization
		has_active_tradition = tr_cloning_somatic_synthesization_clone_army
		has_active_tradition = tr_mutation_unnatural_selection
		has_str_genemodding_tech = yes
	}
}

#This, root = country
can_add_negative_traits_organic = {
	OR = {
		has_utopia = yes
		has_biogenesis_dlc = yes
	}
	OR = {
		has_str_genemodding_tech = yes
		has_tradition = tr_genetics_resequencing
		has_active_tradition = tr_cybernetics_integrated_anatomy
		has_active_tradition = tr_cybernetics_assimilator_integrated_anatomy
		has_active_tradition = tr_purity_genotype_regeneration
		has_active_tradition = tr_purity_genotype_regeneration_wilderness
		has_active_tradition = tr_mutation_unnatural_selection
	}
}

#This, root = country
can_remove_positive_traits_organic = {
	OR = {
		AND = {
			OR = {
				has_utopia = yes
				has_biogenesis_dlc = yes
			}
			OR = {
				has_str_genemodding_tech = yes
				has_tradition = tr_genetics_resequencing
				has_active_tradition = tr_cybernetics_integrated_anatomy
				has_active_tradition = tr_cybernetics_assimilator_integrated_anatomy
				has_active_tradition = tr_purity_genotype_regeneration
				has_active_tradition = tr_purity_genotype_regeneration_wilderness
				has_active_tradition = tr_cloning_somatic_synthesization
				has_active_tradition = tr_cloning_somatic_synthesization_clone_army
				has_active_tradition = tr_mutation_unnatural_selection
			}
		}
		AND = {
			has_toxoids = yes
			has_origin = origin_overtuned
		}
		has_technology = tech_gene_expressions
		has_technology = tech_epigenetic_triggers
	}
}

#This, root = country
can_modify_organic_portraits = {
	OR = {
		has_tradition = tr_genetics_creation
		has_tradition = tr_purity_exemplary_genetics
		has_active_tradition = tr_cloning_somatic_synthesization
		has_active_tradition = tr_cloning_somatic_synthesization_clone_army
		has_tradition = tr_mutation_unnatural_selection
		has_str_genemodding_tech = yes
	}
}


# this = country
is_country_psionic = {
	always = no
}