is_nivirana_battle_country = {
	OR = {
		is_country_type = ai_empire
		is_country_type = extradimensional
		is_country_type = extradimensional_2
		is_country_type = extradimensional_3
		is_country_type = swarm
		is_crisis_mod_country = yes
	}
}

allows_alien_leaders = {
	has_country_flag = enable_allows_alien_leaders
}

is_crisis_mod_country = {
	OR = {
		is_country_type = wg_crisis_country
		is_country_type = afk_crisis_country
		is_country_type = ag_kae_ge_invasion_country
		is_country_type = Infinite_empire
		is_country_type = ag_kuat_invasion_country
		is_country_type = awakened_return_kuat_empire
	}
}

has_food_upkeep = {
	species = {
		has_species_flag = can_has_food_upkeep
	}
	NOT = { has_trait = trait_voidling }
}

has_total_war_cb = {
	OR = {
		# Attacker checks
		AND = {
			has_country_flag = VOP_cb_CNTR_has_total_war_cb_SECTION_1
			OR = {
				has_country_flag = VOP_cb_CNTR_has_total_war_cb_SECTION_2
				AND = { has_valid_civic = civic_machine_terminator from = { is_synthetic_empire = no } }
				AND = { has_valid_civic = civic_fanatic_purifiers NOT = { is_same_species = from } }
			}
		}
		# End threat checks
		AND = {
			has_country_flag = VOP_cb_CNTR_has_total_war_cb_SECTION_3
			from = { has_country_flag = VOP_cb_CNTR_has_total_war_cb_SECTION_4 }
		}
	}
}

VOP_cb_CNTR_has_total_war_cb_SECTION_1 = {
	OR = {
		# is_country_type_with_subjects = yes
		is_country_type = default

		#is_fallen_empire = yes
		is_country_type = fallen_empire
		is_country_type = awakened_fallen_empire

		#is_progenitor_empires = yes
		is_country_type = original_empire
		is_country_type = original_empire_passive
		is_country_type = original_empire_active		
	}
}

VOP_cb_CNTR_has_total_war_cb_SECTION_2 = {
	OR = {
		#is_progenitor_empires = yes
		is_country_type = original_empire
		is_country_type = original_empire_passive
		is_country_type = original_empire_active	
		is_country_type = awakened_fallen_empire
		has_valid_civic = civic_hive_devouring_swarm
		has_valid_civic = civic_machine_assimilator	
	}
}

VOP_cb_CNTR_has_total_war_cb_SECTION_3 = {
	OR = {
		is_country_type = original_empire
		is_country_type = original_empire_passive
		is_country_type = original_empire_active		
		is_country_type = default
	}
	NOR = {
		# is_country_type = awakened_fallen_empire meaningless
		has_valid_civic = civic_fanatic_purifiers
		has_valid_civic = civic_hive_devouring_swarm
		has_valid_civic = civic_machine_assimilator
		has_valid_civic = civic_machine_terminator
	}
}

VOP_cb_CNTR_has_total_war_cb_SECTION_4 = {
	OR = {
		#is_progenitor_empires = yes
		is_country_type = original_empire
		is_country_type = original_empire_passive
		is_country_type = original_empire_active	
		
		#merg_is_awakened_fe = yes
		is_country_type = awakened_fallen_empire
		has_valid_civic = civic_fanatic_purifiers
		has_valid_civic = civic_hive_devouring_swarm
		has_valid_civic = civic_machine_assimilator
		has_valid_civic = civic_machine_terminator
	}
}

can_have_food_upkeep_species = {
	OR = {
		is_archetype = BIOLOGICAL
		is_archetype = STARSHIPGIRLS
		is_archetype = Dolls
		is_archetype = DEITY
		is_archetype = ASCENDED
		is_archetype = KANSEN
		is_archetype = DATEALIVE
		is_archetype = NYTO
		is_archetype = KZ_VOY_TERRAN_DESCENDANT
		is_archetype = KZ_VOY_TERRAN_GAIA
		is_archetype = LILY
		is_archetype = PUFFER
		is_archetype = HUGE
		is_archetype = FGOSW_SERVANT
		is_archetype = WARSHIPGIRL
		is_archetype = SHENHAI
		is_archetype = NANITES_CROP
		is_archetype = UNITED_FLEET
		is_archetype = TOUHOUGIRLS
		is_archetype = KANMUSU
		is_archetype = SHINKAI
		is_archetype = SRA_SR
		is_archetype = Arp
		is_archetype = GENSO_POP
		is_archetype = REMILIA
		is_archetype = LITTLE_DEVIL
		is_archetype = SFDOLL
	}
}

###_[升级首都]	####################################################################
#_pltn		[pd/avb/acot/aot/涅槃/kuat/mrpg/azl]
has_upgraded_capital = {
	optimize_memory
	if = {
		###旅游地
		limit = {
			has_modifier = resort_colony
		}
		custom_tooltip = {
			fail_text = "requires_building_resort_capital"
			OR = {
				has_building = building_resort_capital
				has_building = building_resort_major_capital
				has_building = building_acot_dm_ancient_palace				#_[acot]
				has_building = building_acot_dm_ancient_control_center
				has_building = building_acot_dm_ancient_hive_cluster
				has_building = building_acot_ae_ancient_palace
				has_building = building_ae_ancient_control_center
				has_building = building_acot_dm_ancient_hive_cluster
				has_building = building_heaven_sanctuary
				has_building = building_phanon_tower
				has_building = building_acot_ruined_giga_fortress
				has_building = building_ancient_palace_at
				has_building = building_stellarite_palace				#_|aot|
				has_building = building_stellarite_control_center
				has_building = building_stellarite_hive_cluster
				has_building = building_resort_major_capital_override				#_[avb]
				has_building = building_avb_resort_capital_3
				has_building = building_kuat_command_center				#_[kuat]
				has_building = building_SCO_resort_system_capital				#_[不明]
				has_building = building_nightelf_palace
			}
		}
	}
	else_if = {
		###流放地
		limit = {
			has_modifier = slave_colony
		}
		custom_tooltip = {
			fail_text = "requires_building_slave_capital"
			OR = {
				has_building = building_slave_capital
				has_building = building_slave_major_capital
				has_building = building_acot_dm_ancient_palace				#_[acot]
				has_building = building_acot_dm_ancient_control_center
				has_building = building_acot_dm_ancient_hive_cluster
				has_building = building_acot_ae_ancient_palace
				has_building = building_ae_ancient_control_center
				has_building = building_acot_dm_ancient_hive_cluster
				has_building = building_heaven_sanctuary
				has_building = building_acot_ruined_giga_fortress
				has_building = building_phanon_tower
				has_building = building_ancient_palace_at
				has_building = building_stellarite_palace				#_|aot|
				has_building = building_stellarite_control_center
				has_building = building_stellarite_hive_cluster
				has_building = building_slave_major_capital_override				#_[avb]
				has_building = building_avb_slave_capital_3
				has_building = building_kuat_command_center				#_[kuat]
				has_building = building_SCO_slave_system_capital				#_[不明]
				has_building = building_nightelf_palace
			}
		}
	}
	else_if = {
		###栖息地
		limit = {
			#+
			OR = {
				is_planet_class = pc_habitat
				uses_district_set = pdplanethab				#_[pd]
			}
		}
		custom_tooltip = {
			fail_text = "requires_building_hab_capital"
			OR = {
				has_building = building_hab_capital
				has_building = building_hab_major_capital
				has_building = building_imperial_capital
				has_building = building_imperial_machine_capital
				has_building = building_imperial_hive_capital
				has_building = building_acot_dm_ancient_control_center				#_[acot]
				has_building = building_ae_ancient_control_center
				has_building = building_heaven_sanctuary
				has_building = building_acot_ruined_giga_fortress
				has_building = building_eternal_nexus_ai
				has_building = building_ancient_control_center
				has_building = building_phanon_tower
				has_building = building_ancient_palace_at
				has_building = building_stellarite_control_center				#_|aot|
				has_building = building_machine_system_capital_override				#_[avb]		
				has_building = building_avb_machine_capital_4
				has_building = building_avb_machine_capital_5
				has_building = building_avb_machine_capital_6
				has_building = building_kuat_command_center				#_[kuat]
				has_building = building_machine_minor_capital				#_[mrpg]
			}
		}
	}
	else_if = {
		###蜂群
		limit = {
			owner = {
				is_hive_empire = yes
			}
		}
		custom_tooltip = {
			fail_text = "requires_building_hive_capital"
			OR = {
				has_building = building_hive_capital
				has_building = building_hive_major_capital
				has_building = building_imperial_hive_capital
				has_building = building_acot_dm_ancient_hive_cluster				#_[acot]
				has_building = building_acot_dm_ancient_hive_cluster
				has_building = building_heaven_sanctuary
				has_building = building_acot_ruined_giga_fortress
				has_building = building_phanon_tower
				has_building = building_ancient_palace_at
				has_building = building_stellarite_hive_cluster				#_|aot|
				has_building = building_hive_major_capital_override				#_[avb]
				has_building = building_avb_hive_capital_3
				has_building = building_avb_hive_capital_4
				has_building = building_kuat_command_center				#_[kuat]
				has_building = building_hive_core_2				#_[mrpg]
				has_building = building_hive_core_3
				has_building = building_hive_major_capital_sick				#_[不明]
			}
		}
	}
	else_if = {
		###智械
		limit = {
			owner = {
				is_machine_empire = yes
			}
		}
		custom_tooltip = {
			fail_text = "requires_building_machine_capital"
			OR = {
				has_building = building_machine_capital
				has_building = building_machine_major_capital
				has_building = building_machine_system_capital
				has_building = building_imperial_machine_capital
				has_building = building_acot_dm_ancient_control_center				#_[acot]
				has_building = building_ae_ancient_control_center
				has_building = building_heaven_sanctuary
				has_building = building_acot_ruined_giga_fortress
				has_building = building_eternal_nexus_ai
				has_building = building_ancient_control_center
				has_building = building_phanon_tower
				has_building = building_ancient_palace_at
				has_building = building_stellarite_control_center				#_|aot|
				has_building = building_machine_system_capital_override				#_[avb]		
				has_building = building_avb_machine_capital_4
				has_building = building_avb_machine_capital_5
				has_building = building_avb_machine_capital_6
				has_building = building_kuat_command_center				#_[kuat]
				has_building = building_machine_minor_capital				#_[mrpg]
			}
		}
	}
	else = {
		###普通
		custom_tooltip = {
			fail_text = "requires_building_capital"
			OR = {
				has_building = building_capital
				has_building = building_major_capital
				has_building = building_system_capital
				has_building = building_imperial_capital
				has_building = building_system_capital_gr				#_[不明]
				has_building = building_acot_dm_ancient_palace				#_acot
				has_building = building_acot_ae_ancient_palace
				has_building = building_heaven_sanctuary
				has_building = building_acot_ruined_giga_fortress
				has_building = building_ancient_palace
				has_building = building_eternal_palace
				has_building = building_phanon_tower
				has_building = building_ancient_palace_at
				has_building = building_stellarite_palace				#_|aot|
				has_building = building_system_capital_override				#_[avb]
				has_building = building_avb_capital_4
				has_building = building_avb_capital_5
				has_building = building_avb_capital_6
				has_building = building_kuat_command_center				#_[kuat]
				has_building = building_nirvana_empire_palace				#_[涅槃]
				has_building = building_minor_capital				#_[mrpg]
				has_building = azur_building_mind_capital				#_|azl|
				has_building = azur_building_mind_net_capital
			}
		}
	}
}

###_[高级首都]
#_pltn		[pd/acot/avb/kuat/涅槃/mrpg/azl]
has_major_upgraded_capital = {
	optimize_memory
	if = {
		###旅游地
		limit = {
			has_modifier = resort_colony
		}
		custom_tooltip = {
			fail_text = "requires_building_resort_major_capital"
			OR = {
				#+
				has_building = building_resort_major_capital
				has_building = building_acot_dm_ancient_palace				#_[acot]
				has_building = building_acot_dm_ancient_control_center
				has_building = building_acot_dm_ancient_hive_cluster
				has_building = building_acot_ae_ancient_palace
				has_building = building_ae_ancient_control_center
				has_building = building_acot_dm_ancient_hive_cluster
				has_building = building_heaven_sanctuary
				has_building = building_acot_ruined_giga_fortress
				has_building = building_phanon_tower
				has_building = building_ancient_palace_at
				has_building = building_stellarite_palace				#_|aot|
				has_building = building_stellarite_control_center
				has_building = building_stellarite_hive_cluster
				has_building = building_resort_major_capital_override				#_[avb]
				has_building = building_avb_resort_capital_3
				has_building = building_kuat_command_center				#_[kuat]
				has_building = building_SCO_resort_system_capital				#_[不明]
				has_building = building_nightelf_palace
			}
		}
	}
	else_if = {
		###流放地
		limit = {
			has_modifier = slave_colony
		}
		custom_tooltip = {
			fail_text = "requires_building_slave_major_capital"
			OR = {
				#+
				has_building = building_slave_major_capital
				has_building = building_SCO_slave_system_capital				#_[不明]
				has_building = building_acot_dm_ancient_palace				#_[acot]
				has_building = building_acot_dm_ancient_control_center
				has_building = building_acot_dm_ancient_hive_cluster
				has_building = building_acot_ae_ancient_palace
				has_building = building_ae_ancient_control_center
				has_building = building_acot_dm_ancient_hive_cluster
				has_building = building_heaven_sanctuary
				has_building = building_acot_ruined_giga_fortress
				has_building = building_phanon_tower
				has_building = building_ancient_palace_at
				has_building = building_stellarite_palace				#_|aot|
				has_building = building_stellarite_control_center
				has_building = building_stellarite_hive_cluster
				has_building = building_slave_major_capital_override				#_[avb]
				has_building = building_avb_slave_capital_3
				has_building = building_kuat_command_center				#_[kuat]
				has_building = building_nightelf_palace				#_[不明]
			}
		}
	}
	else_if = {
		###栖息地
		limit = {
			#+
			OR = {
				is_planet_class = pc_habitat
				uses_district_set = pdplanethab				#_[pd]
			}
		}
		custom_tooltip = {
			fail_text = "requires_building_hab_major_capital"
			OR = {
				has_building = building_hab_major_capital
				has_building = building_imperial_capital
				has_building = building_imperial_machine_capital
				has_building = building_imperial_hive_capital
				has_building = building_acot_dm_ancient_palace				#_[acot]
				has_building = building_acot_dm_ancient_control_center
				has_building = building_acot_dm_ancient_hive_cluster
				has_building = building_acot_ae_ancient_palace
				has_building = building_ae_ancient_control_center
				has_building = building_acot_dm_ancient_hive_cluster
				has_building = building_heaven_sanctuary
				has_building = building_acot_ruined_giga_fortress
				has_building = building_phanon_tower
				has_building = building_ancient_palace_at
				has_building = building_stellarite_palace				#_|aot|
				has_building = building_stellarite_control_center
				has_building = building_stellarite_hive_cluster
				has_building = building_hab_major_capital_override				#_[avb]
				has_building = building_avb_hab_capital_3
				has_building = building_kuat_command_center				#_[kuat]
				has_building = building_nightelf_palace				#_[不明]
			}
		}
	}
	else_if = {
		###蜂群
		limit = {
			owner = {
				is_hive_empire = yes
			}
		}
		custom_tooltip = {
			fail_text = "requires_building_major_hive_capital"
			OR = {
				has_building = building_hive_major_capital
				has_building = building_imperial_hive_capital
				has_building = building_acot_dm_ancient_hive_cluster				#_[acot]
				has_building = building_acot_dm_ancient_hive_cluster
				has_building = building_heaven_sanctuary
				has_building = building_acot_ruined_giga_fortress
				has_building = building_phanon_tower
				has_building = building_ancient_palace_at
				has_building = building_stellarite_hive_cluster				#_|aot|
				has_building = building_hive_major_capital_override				#_[avb]
				has_building = building_avb_hive_capital_3
				has_building = building_avb_hive_capital_4
				has_building = building_kuat_command_center				#_[kuat]
				has_building = building_hive_core_3				#_[mrpg]
				has_building = building_hive_major_capital_sick				#_[不明]
			}
		}
	}
	else_if = {
		###智械
		limit = {
			owner = {
				is_machine_empire = yes
			}
		}
		custom_tooltip = {
			fail_text = "requires_building_machine_major_capital"
			OR = {
				has_building = building_machine_major_capital
				has_building = building_machine_system_capital
				has_building = building_imperial_machine_capital
				has_building = building_acot_dm_ancient_control_center				#_[acot]
				has_building = building_ae_ancient_control_center
				has_building = building_heaven_sanctuary
				has_building = building_acot_ruined_giga_fortress
				has_building = building_eternal_nexus_ai
				has_building = building_ancient_control_center
				has_building = building_phanon_tower
				has_building = building_ancient_palace_at
				has_building = building_stellarite_control_center				#_|aot|
				has_building = building_machine_system_capital_override				#_[avb]
				has_building = building_avb_machine_capital_4
				has_building = building_avb_machine_capital_5
				has_building = building_avb_machine_capital_6
				has_building = building_kuat_command_center				#_[kuat]
				has_building = building_machine_major_capital				#_[mrpg]
			}
		}
	}
	else = {
		###默认
		custom_tooltip = {
			fail_text = "requires_building_major_capital"
			OR = {
				has_building = building_major_capital
				has_building = building_system_capital
				has_building = building_imperial_capital
				has_building = building_acot_dm_ancient_palace				#_[acot]
				has_building = building_acot_ae_ancient_palace
				has_building = building_heaven_sanctuary
				has_building = building_acot_ruined_giga_fortress
				has_building = building_ancient_palace
				has_building = building_eternal_palace
				has_building = building_phanon_tower
				has_building = building_ancient_palace_at
				has_building = building_stellarite_palace				#_|aot|
				has_building = building_system_capital_override				#_[avb]
				has_building = building_avb_capital_4
				has_building = building_avb_capital_5
				has_building = building_avb_capital_6
				has_building = building_kuat_command_center				#_[kuat]
				has_building = building_nirvana_empire_palace				#_[涅槃]
				has_building = building_minor_capital				#_[mrpg]
				has_building = azur_building_mind_capital				#_|azl|
				has_building = azur_building_mind_net_capital
				has_building = building_system_capital_gr				#_[不明]
				has_building = building_nightelf_palace
			}
		}
	}
}

###_[顶级首都]
#_pltn		[pd/acot/avb/kuat/涅槃/azl]
has_fully_upgraded_capital = {
	optimize_memory
	if = {
		###旅游地
		limit = {
			has_modifier = resort_colony
		}
		custom_tooltip = {
			fail_text = "requires_building_resort_major_capital"
			OR = {
				#+
				has_building = building_resort_major_capital
				has_building = building_acot_dm_ancient_palace				#_[acot]
				has_building = building_acot_dm_ancient_control_center
				has_building = building_acot_dm_ancient_hive_cluster
				has_building = building_acot_ae_ancient_palace
				has_building = building_ae_ancient_control_center
				has_building = building_acot_dm_ancient_hive_cluster
				has_building = building_heaven_sanctuary
				has_building = building_acot_ruined_giga_fortress
				has_building = building_phanon_tower
				has_building = building_ancient_palace_at
				has_building = building_stellarite_palace				#_|aot|
				has_building = building_stellarite_control_center
				has_building = building_stellarite_hive_cluster
				has_building = building_resort_major_capital_override				#_[avb]
				has_building = building_avb_resort_capital_3
				has_building = building_kuat_command_center				#_[kuat]
				has_building = building_SCO_resort_system_capital				#_[不明]
				has_building = building_nightelf_palace
			}
		}
	}
	else_if = {
		###流放地
		limit = {
			has_modifier = slave_colony
		}
		custom_tooltip = {
			fail_text = "requires_building_slave_major_capital"
			OR = {
				#+
				has_building = building_slave_major_capital
				has_building = building_acot_dm_ancient_palace				#_[acot]
				has_building = building_acot_dm_ancient_control_center
				has_building = building_acot_dm_ancient_hive_cluster
				has_building = building_acot_ae_ancient_palace
				has_building = building_ae_ancient_control_center
				has_building = building_acot_dm_ancient_hive_cluster
				has_building = building_heaven_sanctuary
				has_building = building_acot_ruined_giga_fortress
				has_building = building_phanon_tower
				has_building = building_ancient_palace_at
				has_building = building_stellarite_palace				#_|aot|
				has_building = building_stellarite_control_center
				has_building = building_stellarite_hive_cluster
				has_building = building_slave_major_capital_override				#_[avb]
				has_building = building_avb_slave_capital_3
				has_building = building_kuat_command_center				#_[kuat]
				has_building = building_SCO_slave_system_capital				#_[不明]
				has_building = building_nightelf_palace
			}
		}
	}
	else_if = {
		###栖息地
		limit = {
			#+
			OR = {
				is_planet_class = pc_habitat
				uses_district_set = pdplanethab				#_[pd]
			}
		}
		custom_tooltip = {
			fail_text = "requires_building_hab_major_capital"
			OR = {
				has_building = building_hab_major_capital
				has_building = building_imperial_capital
				has_building = building_imperial_machine_capital
				has_building = building_imperial_hive_capital
				has_building = building_acot_dm_ancient_palace				#_[acot]
				has_building = building_acot_dm_ancient_control_center
				has_building = building_acot_dm_ancient_hive_cluster
				has_building = building_acot_ae_ancient_palace
				has_building = building_ae_ancient_control_center
				has_building = building_acot_dm_ancient_hive_cluster
				has_building = building_heaven_sanctuary
				has_building = building_acot_ruined_giga_fortress
				has_building = building_phanon_tower
				has_building = building_ancient_palace_at
				has_building = building_stellarite_palace				#_|aot|
				has_building = building_stellarite_control_center
				has_building = building_stellarite_hive_cluster
				has_building = building_hab_major_capital_override				#_[avb]
				has_building = building_avb_hab_capital_3
				has_building = building_kuat_command_center				#_[kuat]
				has_building = building_nightelf_palace				#_[不明]
			}
		}
	}
	else_if = {
		###蜂群
		limit = {
			owner = {
				is_hive_empire = yes
			}
		}
		custom_tooltip = {
			fail_text = "requires_building_major_hive_capital"
			OR = {
				has_building = building_hive_major_capital
				has_building = building_imperial_hive_capital
				has_building = building_acot_dm_ancient_hive_cluster				#_[acot]
				has_building = building_acot_dm_ancient_hive_cluster
				has_building = building_heaven_sanctuary
				has_building = building_acot_ruined_giga_fortress
				has_building = building_phanon_tower
				has_building = building_ancient_palace_at
				has_building = building_stellarite_hive_cluster				#_|aot|
				has_building = building_hive_major_capital_override				#_[avb]
				has_building = building_avb_hive_capital_3
				has_building = building_avb_hive_capital_4
				has_building = building_kuat_command_center				#_[kuat]
				has_building = building_hive_major_capital_sick				#_[不明]
			}
		}
	}
	else_if = {
		###智械
		limit = {
			owner = {
				is_machine_empire = yes
			}
		}
		custom_tooltip = {
			fail_text = "requires_building_machine_major_capital"
			OR = {
				has_building = building_machine_major_capital
				has_building = building_machine_system_capital
				has_building = building_imperial_machine_capital
				has_building = building_acot_dm_ancient_control_center				#_[acot]
				has_building = building_ae_ancient_control_center
				has_building = building_heaven_sanctuary
				has_building = building_acot_ruined_giga_fortress
				has_building = building_eternal_nexus_ai
				has_building = building_ancient_control_center
				has_building = building_phanon_tower
				has_building = building_ancient_palace_at
				has_building = building_stellarite_control_center				#_|aot|
				has_building = building_machine_system_capital_override				#_[avb]
				has_building = building_avb_machine_capital_4
				has_building = building_avb_machine_capital_5
				has_building = building_avb_machine_capital_6
				has_building = building_kuat_command_center				#_[kuat]
			}
		}
	}
	else = {
		###普通
		custom_tooltip = {
			fail_text = "requires_building_major_capital"
			OR = {
				has_building = building_system_capital
				has_building = building_imperial_capital
				uses_district_set = pdplanethab				#_[pd]
				has_building = building_acot_dm_ancient_palace				#_[acot]
				has_building = building_acot_ae_ancient_palace
				has_building = building_heaven_sanctuary
				has_building = building_acot_ruined_giga_fortress
				has_building = building_ancient_palace
				has_building = building_eternal_palace
				has_building = building_phanon_tower
				has_building = building_ancient_palace_at
				has_building = building_stellarite_palace				#_|aot|
				has_building = building_system_capital_override				#_[avb]
				has_building = building_avb_capital_4
				has_building = building_avb_capital_5
				has_building = building_avb_capital_6
				has_building = building_kuat_command_center				#_[kuat]
				has_building = building_nirvana_empire_palace				#_[涅槃]
				has_building = azur_building_mind_capital				#_|azl|
				has_building = azur_building_mind_net_capital
				has_building = building_system_capital_gr				#_[不明]
				has_building = building_nightelf_palace
			}
		}
	}
}

has_enigmatic_capital = {
	if = {
		limit = {
			owner = {
				is_hive_empire = yes
			}
		}
		custom_tooltip = {
			fail_text = "requires_building_fe_capital_hive"
			OR = {
				has_building = building_imperial_hive_capital
				has_building = building_acot_dm_ancient_hive_cluster
				has_building = building_acot_dm_ancient_hive_cluster
				has_building = building_eternal_palace
				has_building = building_phanon_tower
				has_building = building_ancient_palace_at
				has_building = building_acot_dm_ancient_palace				#_[acot]
				has_building = building_acot_dm_ancient_control_center
				has_building = building_acot_ae_ancient_palace
				has_building = building_ae_ancient_control_center
				has_building = building_heaven_sanctuary
				has_building = building_acot_ruined_giga_fortress
				has_building = building_phanon_tower
				has_building = building_ancient_palace_at
				has_building = building_stellarite_palace				#_|aot|
				has_building = building_stellarite_control_center
				has_building = building_stellarite_hive_cluster
				has_building = building_resort_major_capital_override				#_[avb]
				has_building = building_avb_resort_capital_3
				has_building = building_kuat_command_center				#_[kuat]
				has_building = building_SCO_resort_system_capital				#_[不明]
				has_building = building_nightelf_palace
			}
		}
	}
	else_if = {
		limit = {
			owner = {
				is_machine_empire = yes
			}
		}
		custom_tooltip = {
			fail_text = "requires_building_fe_capital_machine"
			OR = {
				has_building = building_imperial_machine_capital
				has_building = building_acot_dm_ancient_control_center
				has_building = building_ae_ancient_control_center
				has_building = building_eternal_palace
				has_building = building_phanon_tower
				has_building = building_ancient_palace_at
				has_building = building_acot_dm_ancient_palace				#_[acot]
				has_building = building_acot_dm_ancient_control_center
				has_building = building_acot_dm_ancient_hive_cluster
				has_building = building_acot_ae_ancient_palace
				has_building = building_ae_ancient_control_center
				has_building = building_acot_dm_ancient_hive_cluster
				has_building = building_heaven_sanctuary
				has_building = building_acot_ruined_giga_fortress
				has_building = building_phanon_tower
				has_building = building_ancient_palace_at
				has_building = building_stellarite_palace				#_|aot|
				has_building = building_stellarite_control_center
				has_building = building_stellarite_hive_cluster
				has_building = building_resort_major_capital_override				#_[avb]
				has_building = building_avb_resort_capital_3
				has_building = building_kuat_command_center				#_[kuat]
				has_building = building_SCO_resort_system_capital				#_[不明]
				has_building = building_nightelf_palace
			}
		}
	}
	else = {
		custom_tooltip = {
			fail_text = "requires_building_fe_capital"
			OR = {
				has_building = building_imperial_capital
				has_building = building_acot_dm_ancient_palace
				has_building = building_acot_ae_ancient_palace
				has_building = building_eternal_palace
				has_building = building_phanon_tower
				has_building = building_ancient_palace_at
				has_building = building_ancient_palace_at
				has_building = building_demon_palace
				has_building = building_nightelf_palace
				has_building = building_acot_dm_ancient_palace				#_[acot]
				has_building = building_acot_dm_ancient_control_center
				has_building = building_acot_dm_ancient_hive_cluster
				has_building = building_acot_ae_ancient_palace
				has_building = building_ae_ancient_control_center
				has_building = building_acot_dm_ancient_hive_cluster
				has_building = building_heaven_sanctuary
				has_building = building_acot_ruined_giga_fortress
				has_building = building_phanon_tower
				has_building = building_ancient_palace_at
				has_building = building_stellarite_palace				#_|aot|
				has_building = building_stellarite_control_center
				has_building = building_stellarite_hive_cluster
				has_building = building_resort_major_capital_override				#_[avb]
				has_building = building_avb_resort_capital_3
				has_building = building_kuat_command_center						#_[kuat]
				has_building = building_SCO_resort_system_capital				#_[不明]
				has_building = building_nightelf_palace
			}
		}
	}
}

str_debug_check_trigger = {
	days_passed > 20
	exists = event_target:global_event_country
	has_global_flag = EOF_NOVA_SINGULARY_enable
	OR = {
		event_target:global_event_country = { OR = {
			check_modifier_value = { modifier = nova_mod_order_check value > 0 }
			check_modifier_value = { modifier = kuat_mod_order_check value > 0 }
		} }
		any_playable_country = { has_modifier = crisis_countermeasure_ascension_perk }
		AND = {
			has_global_flag = acot_live_version_v312
			has_global_flag = acot_live_version_v666
		}
	}
}

str_paragon_2_1005_trigger_1 = {
	exists = leader
	leader = {
		has_trait_tier1or2or3 = {
			TRAIT = leader_trait_prospector
		}
	}
	FROM = {
		NOT = {
			has_planet_flag = prospected_by@root.owner
		}
		OR = {
			has_deposit_for = shipclass_mining_station
			has_deposit_for = shipclass_research_station
		}
	}
}

str_paragon_2_1005_trigger_2 = {
	exists = leader
	leader = {
		has_trait_tier1or2or3 = {
			TRAIT = leader_trait_observant
		} 
	}
	FROM = {
		has_anomaly = no
		is_colonizable = no
		OR = {
			can_have_society_deposits = yes
			can_have_physics_deposits = yes
			can_have_engineering_deposits = yes
		}
		OR = {
			has_deposit_for = shipclass_research_station
			num_deposits = 0
		}
		NOT = {
			has_planet_flag = prospected_by@root.owner
		}
	}
}

str_paragon_2_1005_trigger_3 = {
	exists = leader
	leader = {
		has_trait = leader_trait_midas_touch
	}
	FROM = {
		has_anomaly = no
		is_colonizable = no
		OR = {
			can_have_volatile_motes_deposit = yes
			can_have_rare_crystals_deposits = yes
			can_have_exotic_gases_deposits = yes
		}
		OR = {
			has_deposit_for = shipclass_mining_station
			num_deposits = 0
		}
		NOT = {
			has_planet_flag = prospected_by@root.owner
		}
	}
}