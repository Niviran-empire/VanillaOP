is_nivirana_battle_country = {
	OR = {
		is_country_type = ai_empire
		is_country_type = extradimensional
		is_country_type = extradimensional_2
		is_country_type = extradimensional_3
		is_country_type = swarm
		is_crisis_mod_country = yes
	}
}

allows_alien_leaders = {
	has_country_flag = enable_allows_alien_leaders
}

is_crisis_mod_country = {
	OR = {
		is_country_type = wg_crisis_country
		is_country_type = afk_crisis_country
		is_country_type = Kuat_Galatic_Empire_invasion_country
		is_country_type = Infinite_empire
		is_country_type = eternal_fleet_country
		is_country_type = kuat_awakened_returned_empire
	}
}

has_food_upkeep = {
	species = {
		has_species_flag = can_has_food_upkeep
	}
	NOT = { has_trait = trait_voidling }
}

has_total_war_cb = {
	OR = {
		# Attacker checks
		AND = {
			has_country_flag = VOP_cb_CNTR_has_total_war_cb_SECTION_1
			OR = {
				has_country_flag = VOP_cb_CNTR_has_total_war_cb_SECTION_2
				AND = { has_valid_civic = civic_machine_terminator from = { is_synthetic_empire = no } }
				AND = { has_valid_civic = civic_fanatic_purifiers NOT = { is_same_species = from } }
			}
		}
		# End threat checks
		AND = {
			has_country_flag = VOP_cb_CNTR_has_total_war_cb_SECTION_3
			from = { has_country_flag = VOP_cb_CNTR_has_total_war_cb_SECTION_4 }
		}
	}
}

VOP_cb_CNTR_has_total_war_cb_SECTION_1 = {
	OR = {
		# is_country_type_with_subjects = yes
		is_country_type = default

		#is_fallen_empire = yes
		is_country_type = fallen_empire
		is_country_type = awakened_fallen_empire

		#is_progenitor_empires = yes	
	}
}

VOP_cb_CNTR_has_total_war_cb_SECTION_2 = {
	OR = {
		#is_progenitor_empires = yes
		is_country_type = awakened_fallen_empire
		has_valid_civic = civic_hive_devouring_swarm
		has_valid_civic = civic_machine_assimilator	
	}
}

VOP_cb_CNTR_has_total_war_cb_SECTION_3 = {
	is_country_type = default
	NOR = {
		# is_country_type = awakened_fallen_empire meaningless
		has_valid_civic = civic_fanatic_purifiers
		has_valid_civic = civic_hive_devouring_swarm
		has_valid_civic = civic_machine_assimilator
		has_valid_civic = civic_machine_terminator
	}
}

VOP_cb_CNTR_has_total_war_cb_SECTION_4 = {
	OR = {
		
		#merg_is_awakened_fe = yes
		is_country_type = awakened_fallen_empire
		has_valid_civic = civic_fanatic_purifiers
		has_valid_civic = civic_hive_devouring_swarm
		has_valid_civic = civic_machine_assimilator
		has_valid_civic = civic_machine_terminator
	}
}

can_have_food_upkeep_species = {
	OR = {
		is_archetype = BIOLOGICAL
		is_archetype = STARSHIPGIRLS
		is_archetype = Dolls
		is_archetype = DEITY
		is_archetype = ASCENDED
		is_archetype = KANSEN
		is_archetype = NYTO
		is_archetype = KZ_VOY_TERRAN_DESCENDANT
		is_archetype = KZ_VOY_TERRAN_GAIA
		is_archetype = WARSHIPGIRL
		is_archetype = SHENHAI
		is_archetype = NANITES_CROP
		is_archetype = UNITED_FLEET
		is_archetype = TOUHOUGIRLS
		is_archetype = KANMUSU
		is_archetype = SHINKAI
		is_archetype = GENSO_POP
		is_archetype = REMILIA
		is_archetype = LITTLE_DEVIL
		is_archetype = SFDOLL
	}
}

str_paragon_2_1005_trigger_1 = {
	exists = leader
	leader = {
		has_trait_tier1or2or3 = {
			TRAIT = leader_trait_prospector
		}
	}
	FROM = {
		NOT = {
			has_planet_flag = prospected_by@root.owner
		}
		OR = {
			has_deposit_for = shipclass_mining_station
			has_deposit_for = shipclass_research_station
		}
	}
}

str_paragon_2_1005_trigger_2 = {
	exists = leader
	leader = {
		has_trait_tier1or2or3 = {
			TRAIT = leader_trait_observant
		} 
	}
	FROM = {
		has_anomaly = no
		is_colonizable = no
		OR = {
			can_have_society_deposits = yes
			can_have_physics_deposits = yes
			can_have_engineering_deposits = yes
		}
		OR = {
			has_deposit_for = shipclass_research_station
			num_deposits = 0
		}
		NOT = {
			has_planet_flag = prospected_by@root.owner
		}
	}
}

str_paragon_2_1005_trigger_3 = {
	exists = leader
	leader = {
		has_trait = leader_trait_midas_touch
	}
	FROM = {
		has_anomaly = no
		is_colonizable = no
		OR = {
			can_have_volatile_motes_deposit = yes
			can_have_rare_crystals_deposits = yes
			can_have_exotic_gases_deposits = yes
		}
		OR = {
			has_deposit_for = shipclass_mining_station
			num_deposits = 0
		}
		NOT = {
			has_planet_flag = prospected_by@root.owner
		}
	}
}