#	LIOS	|VOP新增|同步追踪|3.14.15	common/storm_types/00_storm_types.txt


#	破盾
electric_storm = {
	inline_script = "cosmic_storms/BaseModifier"

	inline_script = {
		script = "cosmic_storms/StormConfig"
		MIN_RADIUS = 25
		MAX_RADIUS = 50
		MIN_RANGE = value:storm_range_min
		MAX_RANGE = value:storm_range_max
		STORM_SPEED = 0.02
		ACTIVATION_PERIOD_IN_MONTHS = 12
		MONTHLY_ADDED_DEVASTATION = @cosmic_storm_base_monthly_devastation
	}
	affect_shield_regen = yes

	spawn_weight = 1
	description = electric_storm_lore_description

	### positive effects ###

	triggered_planet_modifier = {
		potential = {
			is_colony = yes
		}
		planet_jobs_produces_mult = 0.25
	}

	triggered_fleet_modifier = {
		potential = {
			always = yes
		}
		modifier = {
			ship_speed_mult = 1
			ship_shield_regen_add_static = -20	#_|VOP新增|	cstorms.1100/@storm_monthly_dmg_low
		}
	}

	### negative effects ###

	triggered_fleet_modifier = {
		potential = {
			always = yes
		}
		modifier = {
			custom_tooltip = electric_storm_fleet_tt
		}
	}

	###

	on_start = {
		every_system_within_storm = {
			added_to_storm_base_effect = yes
			electric_storm_add = yes
		}
	}

	on_moved = {
		every_system_added_to_storm = {
			added_to_storm_base_effect = yes
			electric_storm_add = yes
		}

		every_system_removed_from_storm = {
			removed_from_storm_base_effect = yes
			electric_storm_remove = yes
		}
	}

	on_finished = {
		every_system_within_storm = {
			removed_from_storm_base_effect = yes
			electric_storm_remove = yes
		}
	}

	cosmic_storm_texture_path = "gfx/map/storms/NebulaOpacity.dds"
	cosmic_storm_texture_color_path = "gfx/map/storms/electric_storm_color.dds"
	cosmic_storm_event_sprite = "GFX_electric_storm"
	icon = GFX_planetview_storm_electric_modifier_frame

	cosmic_storm_texture_lightning_paths = {
		"gfx/map/storms/lightning/lightning_big_storm_01.dds"
		"gfx/map/storms/lightning/lightning_big_storm_02.dds"
		"gfx/map/storms/lightning/lightning_mid_storm_01.dds"
		"gfx/map/storms/lightning/lightning_mid_storm_02.dds"
	}

	cosmic_storm_galaxy_lightning_time = 5.0
	cosmic_storm_galaxy_max_opacity = 0.4
}
#	损伤改破甲/产出
particle_storm = {
	inline_script = "cosmic_storms/BaseModifier"

	inline_script = {
		script = "cosmic_storms/StormConfig"
		MIN_RADIUS = 25
		MAX_RADIUS = 50
		MIN_RANGE = value:storm_range_min
		MAX_RANGE = value:storm_range_max
		STORM_SPEED = 0.02
		ACTIVATION_PERIOD_IN_MONTHS = 12
		MONTHLY_ADDED_DEVASTATION = @cosmic_storm_base_monthly_devastation
	}
	affect_hp_regen = yes
	affect_armor_regen = yes
	affect_shield_regen = yes

	spawn_weight = 1
	description = particle_storm_lore_description

	### positive effects ###

	### negative effects ###

	triggered_fleet_modifier = {
		potential = {
			always = yes
		}
		modifier = {
			ships_upkeep_mult = 0.5
			custom_tooltip = particle_storm_fleet_tt
			show_only_custom_tooltip = no
			ship_armor_regen_add_static = -20	#_|VOP新增|	cstorms.1100/@storm_monthly_dmg_low
			ships_unity_produces_add = 0.5	#_|VOP新增|	cstorms.1050/hp<@storm_hp_perc_limit|添加产出=1
		}
	}

	on_start = {
		every_system_within_storm = {
			added_to_storm_base_effect = yes
			particle_storm_add = yes
		}
	}

	on_finished = {
		every_system_within_storm = {
			removed_from_storm_base_effect = yes
			particle_storm_remove = yes
		}
	}

	on_moved = {
		every_system_added_to_storm = {
			added_to_storm_base_effect = yes
			particle_storm_add = yes
		}

		every_system_removed_from_storm= {
			removed_from_storm_base_effect = yes
			particle_storm_remove = yes
		}
	}

	cosmic_storm_texture_path = "gfx/map/storms/NebulaOpacity.dds"
	cosmic_storm_texture_color_path = "gfx/map/storms/particle_storm_color.dds"
	cosmic_storm_event_sprite = "GFX_particle_storm"
	icon = GFX_planetview_storm_particle_modifier_frame

	cosmic_storm_texture_lightning_paths = {
		"gfx/map/storms/lightning/lightning_small_storm_01.dds"
		"gfx/map/storms/lightning/lightning_small_storm_02.dds"
		"gfx/map/storms/lightning/lightning_mid_storm_01.dds"
		"gfx/map/storms/lightning/lightning_mid_storm_02.dds"
	}

	cosmic_storm_galaxy_lightning_time = 7.0
	cosmic_storm_galaxy_max_opacity = 0.4
}


#	gravity_storm
#	magnetic_storm
#	solar_storm
#	celestial_storm
#	shroud_storm


#	损伤改破甲
nexus_storm = {
	inline_script = {
		script = "cosmic_storms/StormConfig"
		MIN_RADIUS = 25
		MAX_RADIUS = 50
		MIN_RANGE = value:storm_range_min
		MAX_RANGE = value:storm_range_max
		STORM_SPEED = 0.02
		ACTIVATION_PERIOD_IN_MONTHS = 12
		MONTHLY_ADDED_DEVASTATION = @nexus_storm_monthly_devastation
	}
	affect_hp_regen = yes
	affect_armor_regen = yes
	affect_shield_regen = yes

	spawn_weight = 0.05
	description = nexus_storm_lore_description

	triggered_fleet_modifier = {
		potential = {
			always = yes
		}
		nexus_storm_modifier = 1
		custom_tooltip = nexus_storm_fleet_tt
		show_only_custom_tooltip = no
		ship_armor_regen_add_static = -60	#_|VOP新增|	cstorms.1100/@storm_monthly_dmg_high
	}

	on_start = {
		every_system_within_storm = {
			added_to_storm_base_effect = yes
			nexus_storm_add = yes
		}
	}

	on_finished = {
		every_system_within_storm = {
			removed_from_storm_base_effect = yes
			nexus_storm_remove = yes
		}
	}

	on_moved = {
		every_system_added_to_storm = {
			added_to_storm_base_effect = yes
			nexus_storm_add = yes
		}

		every_system_removed_from_storm = {
			removed_from_storm_base_effect = yes
			nexus_storm_remove = yes
		}
	}

	cosmic_storm_texture_path = "gfx/map/storms/NebulaOpacity.dds"
	cosmic_storm_texture_color_path = "gfx/map/storms/nexus_storm_color.dds"
	cosmic_storm_event_sprite = "GFX_nexus_storm"
	icon = GFX_planetview_storm_nexus_modifier_frame

	cosmic_storm_texture_lightning_paths = {
		"gfx/map/storms/lightning/lightning_big_storm_01.dds"
		"gfx/map/storms/lightning/lightning_big_storm_02.dds"
		"gfx/map/storms/lightning/lightning_mid_storm_01.dds"
		"gfx/map/storms/lightning/lightning_mid_storm_02.dds"
	}

	cosmic_storm_galaxy_lightning_time = 5.0
	cosmic_storm_galaxy_max_opacity = 0.4

	show_notification = {
		NOT = { has_country_flag = is_nexus_spawner }
	}
}
