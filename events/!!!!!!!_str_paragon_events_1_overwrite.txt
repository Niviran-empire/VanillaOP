#	|VOP新增/VOP优化|	同步追踪|3.14.159	\events\paragon_events_1.txt	paragon.405
namespace = paragon


# on_tradition_picked "tr_statecraft_inspiring_agendas", show a notification that they're available.
country_event = {#_|VOP优化|添加trigger修改effect
	id = paragon.405
	hide_window = yes
	is_triggered_only = yes

	trigger = {# |VOP优化|trigger转入
		has_tradition = tr_statecraft_inspiring_agendas
		NOT = { has_country_flag = has_picked_tr_statecraft_inspiring_agendas }
	}

	immediate = {# |VOP优化|trigger转出
		# Makes sure this is only triggered ONCE and only when tr_statecraft_inspiring_agendas was unlocked.
		set_country_flag = has_picked_tr_statecraft_inspiring_agendas

		create_message = {
			type = COUNCIL_AGENDA_AVAILABLE
			localization = MESSAGE_COUNCIL_AGENDA_AVAILABLE_UNLOCKED_INSPIRING_AGENDAS
			days = 30
			# Unfortunately can't set message type to: _MESSAGE_TYPE_COUNCIL_AGENDA_READY_, which would enable Left-click to open Council.
		}
	}
}

# on_colonized, give boost modifier if "Superior Colonies" Agenda is active.
planet_event = {#_|VOP优化|trigger禁用
	id = paragon.403
	hide_window = yes
	is_triggered_only = yes

	trigger = { always = no }
}

# on_agenda_finished "Superior Colonies", check for young Colonies that should get the boost modifier.
country_event = {#_|VOP优化|添加trigger修改effect
	id = paragon.404
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		is_ai = no
		has_modifier = agenda_superior_colonies_finish
	}

	immediate = {
		every_planet_within_border = {
			limit = {
				is_colony = yes
				is_owned_by = root
				NOT = { has_modifier = agenda_superior_colonies_planet_boost }
			}
			add_modifier = {
				modifier = agenda_superior_colonies_planet_boost
				days = @agenda_finish_modifier_duration
			}
		}
	}
}